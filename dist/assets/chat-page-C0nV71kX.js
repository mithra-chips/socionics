import{d as h,a,b as i,g as m,e as t,w as r,i as p,t as f,s as I,o as P,c as B,f as e,h as R,u as $,F as k,r as x,p as N,j as T,_ as q}from"./index-DVElDTkT.js";import{u as y}from"./chats.store-DVrbg7fy.js";const F=h({__name:"chat-kudos",props:{kudoCount:{default:0}},emits:["plus"],setup(l,{emit:o}){const s=o,d=()=>{s("plus")},c=l;return(_,u)=>{const n=a("v-btn");return i(),m("div",null,[t(n,{class:"ma-2",color:"blue-lighten-2",icon:"mdi-thumb-up",variant:"text",onClick:d},{default:r(()=>[p(f(c.kudoCount)+"赞",1)]),_:1})])}}}),U=e("thead",null,[e("tr",null,[e("th",{class:"text-left"},"类型"),e("th",{class:"text-left"},"回复"),e("th",{class:"text-left"},"点赞数")])],-1),j=h({__name:"chat-messages",setup(l){const o=y(),{replies:s}=I(o);P(async()=>{await o.getReplies()});const d=async c=>{const _={id:c.id,kudoCount:c.kudoCount??1};await o.updateReply(_)};return(c,_)=>{const u=a("v-table");return i(),B(u,null,{default:r(()=>[U,e("tbody",null,[(i(!0),m(k,null,R($(s),n=>(i(),m("tr",{key:n.id},[e("td",null,f(n.type),1),e("td",null,f(n.reply),1),e("td",null,[t(F,{"kudo-count":n.kudoCount,onPlus:b=>d(n)},null,8,["kudo-count","onPlus"])])]))),128))])]),_:1})}}}),A=l=>(N("data-v-947ca5b1"),l=l(),T(),l),D=A(()=>e("br",null,null,-1)),E=h({__name:"chat-page",setup(l){const o=x(""),s=x(""),d=y(),c=async()=>{const _={id:d.replies.length+1,type:s.value,topicId:"1",reply:o.value,kudoCount:0};await d.addReply(_)};return(_,u)=>{const n=a("v-card-title"),b=a("v-card-text"),C=a("v-card"),g=a("v-text-field"),w=a("v-textarea"),V=a("v-btn"),S=a("v-container");return i(),m(k,null,[t(S,{fluid:""},{default:r(()=>[t(C,{variant:"text"},{default:r(()=>[t(n,{class:"chat-title"},{default:r(()=>[p(" 话题"),D,p(" 三年防疫：时间的流逝与停滞 ")]),_:1}),t(b,null,{default:r(()=>[p(" 描述：可以从个人成长机遇、社会影响、心理、社交等方面发布个人感言 ")]),_:1})]),_:1}),t(g,{modelValue:s.value,"onUpdate:modelValue":u[0]||(u[0]=v=>s.value=v),placeholder:"输入你的soc类型"},null,8,["modelValue"]),t(w,{label:"观点",placeholder:'例："我认为blablabla"',modelValue:o.value,"onUpdate:modelValue":u[1]||(u[1]=v=>o.value=v),name:"inputAnswer",variant:"filled","auto-grow":""},null,8,["modelValue"]),t(V,{onClick:c,class:"text-none text-subtitle-1",color:"#5865f2",block:""},{default:r(()=>[p("提交")]),_:1})]),_:1}),t(j)],64)}}}),z=q(E,[["__scopeId","data-v-947ca5b1"]]);export{z as default};
