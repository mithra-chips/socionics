import{d as x,a as n,b as _,g as i,e as t,w as u,i as p,t as f,s as B,o as R,c as S,f as a,h as N,u as T,F as k,r as b,_ as $}from"./index-wi3oEK0m.js";import{u as y}from"./chats.store-CBT4TGsD.js";const q=x({__name:"chat-kudos",props:{kudoCount:{default:0}},emits:["plus"],setup(m,{emit:e}){const l=e,r=()=>{l("plus")},s=m;return(d,c)=>{const o=n("v-btn");return _(),i("div",null,[t(o,{class:"ma-2",color:"blue-lighten-2",icon:"mdi-thumb-up",variant:"text",onClick:r},{default:u(()=>[p(f(s.kudoCount)+"赞",1)]),_:1})])}}}),F=a("thead",null,[a("tr",null,[a("th",{class:"text-left"},"类型"),a("th",{class:"text-left"},"回复"),a("th",{class:"text-left"},"点赞数")])],-1),I=x({__name:"chat-messages",setup(m){const e=y(),{replies:l}=B(e);R(async()=>{await e.getReplies()});const r=async s=>{const d={id:s.id,kudoCount:s.kudoCount??1};await e.updateReply(d)};return(s,d)=>{const c=n("v-table");return _(),S(c,null,{default:u(()=>[F,a("tbody",null,[(_(!0),i(k,null,N(T(l),o=>(_(),i("tr",{key:o.id},[a("td",null,f(o.type),1),a("td",null,f(o.reply),1),a("td",null,[t(q,{"kudo-count":o.kudoCount,onPlus:h=>r(o)},null,8,["kudo-count","onPlus"])])]))),128))])]),_:1})}}}),U=x({__name:"chat-page",setup(m){const e=b(""),l=b(""),r=y(),s=async()=>{const d={id:r.replies.length+1,type:l.value,topicId:"1",reply:e.value,kudoCount:0};await r.addReply(d)};return(d,c)=>{const o=n("v-card-title"),h=n("v-card-text"),C=n("v-card"),g=n("v-text-field"),V=n("v-textarea"),w=n("v-btn"),P=n("v-container");return _(),i(k,null,[t(P,{fluid:""},{default:u(()=>[t(C,{variant:"text"},{default:u(()=>[t(o,{class:"chat-title"},{default:u(()=>[p(" 话题：防疫三年是我失去的三年 ")]),_:1}),t(h,null,{default:u(()=>[p(" 描述：可以从个人成长机遇、社会影响、心理、社交等方面发布个人感言 ")]),_:1})]),_:1}),t(g,{modelValue:l.value,"onUpdate:modelValue":c[0]||(c[0]=v=>l.value=v),placeholder:"输入你的soc类型"},null,8,["modelValue"]),t(V,{label:"观点",placeholder:'例："我认为blablabla"',modelValue:e.value,"onUpdate:modelValue":c[1]||(c[1]=v=>e.value=v),name:"inputAnswer",variant:"filled","auto-grow":""},null,8,["modelValue"]),t(w,{onClick:s,class:"text-none text-subtitle-1",color:"#5865f2",block:""},{default:u(()=>[p("提交")]),_:1})]),_:1}),t(I)],64)}}}),E=$(U,[["__scopeId","data-v-58b48a51"]]);export{E as default};
