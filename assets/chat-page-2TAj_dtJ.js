import{d as b,a,b as i,g as v,e,w as d,j as p,t as f,u as k,s as I,o as P,c as B,f as o,h as R,i as $,F as y,r as x,p as N,k as T,_ as q}from"./index-CB5vYY1o.js";const F=b({__name:"chat-kudos",props:{kudoCount:{default:0}},emits:["plus"],setup(s,{emit:t}){const l=t,r=()=>{l("plus")},c=s;return(_,u)=>{const n=a("v-btn");return i(),v("div",null,[e(n,{class:"ma-2",color:"blue-lighten-2",icon:"mdi-thumb-up",variant:"text",onClick:r},{default:d(()=>[p(f(c.kudoCount)+"赞",1)]),_:1})])}}}),U=o("thead",null,[o("tr",null,[o("th",{class:"text-left"},"类型"),o("th",{class:"text-left"},"回复"),o("th",{class:"text-left"},"点赞数")])],-1),j=b({__name:"chat-messages",setup(s){const t=k(),{replies:l}=I(t);P(async()=>{await t.getReplies()});const r=async c=>{const _={id:c.id,kudoCount:c.kudoCount??1};await t.updateReply(_)};return(c,_)=>{const u=a("v-table");return i(),B(u,null,{default:d(()=>[U,o("tbody",null,[(i(!0),v(y,null,R($(l),n=>(i(),v("tr",{key:n.id},[o("td",null,f(n.type),1),o("td",null,f(n.reply),1),o("td",null,[e(F,{"kudo-count":n.kudoCount,onPlus:h=>r(n)},null,8,["kudo-count","onPlus"])])]))),128))])]),_:1})}}}),A=s=>(N("data-v-09c28dbb"),s=s(),T(),s),D=A(()=>o("br",null,null,-1)),E=b({__name:"chat-page",setup(s){const t=x(""),l=x(""),r=k(),c=async()=>{const _={id:r.replies.length+1,type:l.value,topicId:"1",reply:t.value,kudoCount:0};await r.addReply(_),l.value="",t.value=""};return(_,u)=>{const n=a("v-card-title"),h=a("v-card-text"),C=a("v-card"),g=a("v-text-field"),w=a("v-textarea"),V=a("v-btn"),S=a("v-container");return i(),v(y,null,[e(S,{fluid:""},{default:d(()=>[e(C,{variant:"text"},{default:d(()=>[e(n,{class:"chat-title"},{default:d(()=>[p(" 话题"),D,p(" 三年防疫：时间的流逝与停滞 ")]),_:1}),e(h,null,{default:d(()=>[p(" 描述：可以从个人成长机遇、社会影响、心理、社交等方面发布个人感言 ")]),_:1})]),_:1}),e(g,{modelValue:l.value,"onUpdate:modelValue":u[0]||(u[0]=m=>l.value=m),placeholder:"输入你的soc类型"},null,8,["modelValue"]),e(w,{label:"观点",placeholder:'例："我认为blablabla"',modelValue:t.value,"onUpdate:modelValue":u[1]||(u[1]=m=>t.value=m),name:"inputAnswer",variant:"filled","auto-grow":""},null,8,["modelValue"]),e(V,{onClick:c,class:"text-none text-subtitle-1",color:"#5865f2",block:""},{default:d(()=>[p("提交")]),_:1})]),_:1}),e(j)],64)}}}),M=q(E,[["__scopeId","data-v-09c28dbb"]]);export{M as default};
