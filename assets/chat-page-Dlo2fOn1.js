import{d as h,a as n,b as p,g as v,e,w as s,i as r,t as f,s as I,o as P,c as k,f as o,h as $,u as B,F as R,r as b,p as N,j as T,_ as F}from"./index-JmTuHBrm.js";import{u as y,_ as U}from"./main-component.vue_vue_type_script_setup_true_lang-CK41uizB.js";const j=h({__name:"chat-kudos",props:{kudoCount:{default:0}},emits:["plus"],setup(c,{emit:t}){const l=t,_=()=>{l("plus")},u=c;return(i,d)=>{const a=n("v-btn");return p(),v("div",null,[e(a,{class:"ma-2",color:"blue-lighten-2",icon:"mdi-thumb-up",variant:"text",onClick:_},{default:s(()=>[r(f(u.kudoCount)+"赞",1)]),_:1})])}}}),q=o("thead",null,[o("tr",null,[o("th",{class:"text-left"},"类型"),o("th",{class:"text-left"},"回复"),o("th",{class:"text-left"},"点赞数")])],-1),A=h({__name:"chat-messages",setup(c){const t=y(),{replies:l}=I(t);P(async()=>{await t.getReplies()});const _=async u=>{const i={id:u.id,kudoCount:u.kudoCount??1};await t.updateReply(i)};return(u,i)=>{const d=n("v-table");return p(),k(d,null,{default:s(()=>[q,o("tbody",null,[(p(!0),v(R,null,$(B(l),a=>(p(),v("tr",{key:a.id},[o("td",null,f(a.type),1),o("td",null,f(a.reply),1),o("td",null,[e(j,{"kudo-count":a.kudoCount,onPlus:x=>_(a)},null,8,["kudo-count","onPlus"])])]))),128))])]),_:1})}}}),D=c=>(N("data-v-f09921d9"),c=c(),T(),c),E=D(()=>o("br",null,null,-1)),L=h({__name:"chat-page",setup(c){const t=b(""),l=b(""),_=y(),u=async()=>{await _.addReply({type:l.value,topicId:"1",reply:t.value,kudoCount:0}),l.value="",t.value=""};return(i,d)=>{const a=n("v-card-title"),x=n("v-card-text"),C=n("v-card"),g=n("v-text-field"),w=n("v-textarea"),V=n("v-btn"),S=n("v-container");return p(),k(U,null,{main:s(()=>[e(S,{fluid:""},{default:s(()=>[e(C,{variant:"text"},{default:s(()=>[e(a,{class:"chat-title"},{default:s(()=>[r(" 话题"),E,r(" 三年防疫：时间的流逝与停滞 ")]),_:1}),e(x,null,{default:s(()=>[r(" 描述：可以从个人成长机遇、社会影响、心理、社交等方面发布个人感言 ")]),_:1})]),_:1}),e(g,{modelValue:l.value,"onUpdate:modelValue":d[0]||(d[0]=m=>l.value=m),placeholder:"输入你的soc类型"},null,8,["modelValue"]),e(w,{label:"观点",placeholder:'例："我认为blablabla"',modelValue:t.value,"onUpdate:modelValue":d[1]||(d[1]=m=>t.value=m),name:"inputAnswer",variant:"filled","auto-grow":""},null,8,["modelValue"]),e(V,{onClick:u,class:"text-none text-subtitle-1",color:"#5865f2",block:""},{default:s(()=>[r("提交")]),_:1})]),_:1}),e(A)]),_:1})}}}),G=F(L,[["__scopeId","data-v-f09921d9"]]);export{G as default};
